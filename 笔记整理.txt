
cur
2024金九银十面试突击班 
	面试突击班3.md
		配置中心几种配置推送方式以及nacos的推送方式
		
下载的马士兵官网的资料放在路径: E:\Temp\微服务


来源： 微服务面试突击班第一节.md
6.你们项目接口性能指标有哪些标准？
互联网项目中，接口性能指标可以从不同的角度进行考虑，以下是一些常用的指标：

响应时间：指接口处理请求并返回结果所需的时间。通常，响应时间应该尽可能地短，一般来说不超过1秒，最好控制在0.5秒以内。
吞吐量：指接口每秒处理的请求数。高吞吐量可以使系统更有效地使用资源并提高访问效率。对于高并发的应用，吞吐量要求会比较高，需要根据实际情况进行合理的调整。一般项目要求96%以上，但是根据CPU上下文切换时间不同，有所下降
并发数：指在同一时间内有多少个请求在处理。并发数过高可能会导致请求响应时间延长或者系统崩溃，需要合理地控制并发数。 2个方向进行控制 hystrix sentinel 并发控制 不限制死 业务服务之后 500个 200个 sentinel 信号量隔离 服务层面 线程池隔离 300 hystrix
错误率：指接口处理失败或者返回错误结果的概率。错误率应该尽可能低，一般来说不超过1%，同时还需要对错误进行详细记录与分析，及时发现并解决问题。（召回率）
延迟分布情况：指接口响应时间在不同请求场景下的分布情况，如 90%的请求响应时间在1秒以内，99%的请求响应时间在2秒以内等。延迟分布情况可以给出更详细的性能数据，并根据数据来判断是否需要调整系统架构或者调整业务流程。
网络流量：指网络传输的数据量，可以根据实际情况进行监控和调整。Zabbix进行监控
系统资源利用率：指系统使用的CPU、内存、磁盘等资源的利用率，需要根据实际情况进行监控和调整。
综上所述，接口性能指标有很多，需要根据具体业务场景来选择和权衡。在实际项目中，可以使用一些专业的性能测试工具，如JMeter、Gatling等来进行性能测试，并根据测试结果进行适当的调整和优化。

7.在微服务架构下，如何判定性能的标准：
在微服务架构下，判别接口性能的标准一般可以从以下几个方面进行评估：

请求响应时间：这是最基本的性能评估指标之一。请求响应时间指的是从客户端发出请求到服务器处理完请求并返回响应所需要的时间。一般来说，请求响应时间越短，说明服务性能越好。
吞吐量：吞吐量指的是在一定时间内可以处理的请求数量。一般来说，吞吐量越高，说明服务性能越好。
并发能力：并发能力指的是服务器同时处理多个请求的能力。一般来说，服务器的并发能力越强，说明服务性能越好。
容错能力：容错能力指的是在出现异常情况时，服务器的自我保护和恢复能力。一般来说，容错能力越强，说明服务性能越好。
稳定性：稳定性指的是服务在长时间运行过程中，是否出现过崩溃、死锁等问题。一般来说，稳定性越高，说明服务性能越好。
在实际的性能测试中，除了以上几个方面，还可以根据具体业务需求进行评估。同时，在进行性能测试时，需要考虑到并发场景、请求量、负载均衡、缓存等因素对服务性能的影响，综合评估服务的性能表现。



来源： 面试突击班第二节.md
问题： 1.什么是CAP   为什么必须要保证分区容错性（Base理论）   二、BASE理论的应用场景   三、BASE理论与CAP理论的关系  四、BASE理论的优缺点 
AI总结： 
下面把你整理的 CAP 与 BASE 内容，压缩成 **面试话术**（多场景、多时长版本 + 追问应对 + 项目落地示例），方便你在面试中“顺畅、干练、有逻辑”地输出。

 
***

## 二、60–90 秒标准面试版（含例子）

**CAP 定理**指：在发生网络分区时，系统无法同时保证 **一致性（C）** 与 **可用性（A）**。
实际工程通常**必定会出现 P**，因为大型分布式系统的网络分区是**必然事件**而非偶发异常。于是就形成两类选择：

*   **CP（一致性 + 分区容忍）**：比如 **ZooKeeper/HBase**。当出现分区或多数派不可达时，宁可拒绝服务（暂不可用），也要确保读写语义一致。
*   **AP（可用性 + 分区容忍）**：比如 **Dynamo/Cassandra**。出现分区也继续响应请求，但可能返回旧数据，通过 **异步复制、版本合并** 达到**最终一致**。

**BASE 理论**是对 CAP 的工程化落地：

*   **基本可用**：部分降级/限流，但系统能“有响应”。 （例如下单只让“创建订单”成功，**库存扣减异步**处理）。
*   **软状态**：中间状态允许暂不一致。  缓存/副本短时不同步，允许“写入消息队列，后台消费+补偿”。 
*   **最终一致**：通过异步传播，副本最终收敛。  幂等重试 + 去重表（比如 Redis/DB 记录业务幂等键），**重放事件**直至副本一致。

**选型逻辑**：

*   **强一致场景（CP）**：交易扣款、配额强约束、主数据变更。
*   **可用优先场景（AP + 最终一致）**：社交点赞、Feed 计数、日志、缓存层。


**Q2：如何在 AP 系统里实现最终一致？**  
**A**：事件驱动 + 幂等补偿：

*   写入主表后**投递事件**（MQ/Kafka），下游异步更新副本。
*   所有下游操作设计为**幂等**（业务键去重），失败**重试**。
*   冲突解决靠**版本/时间戳**或**业务规则**（谁优先、如何合并）。
*   配监控与告警，**补偿工单**与**人工介入**通道。

***

## 四、经典面试追问与高分回答

**Q1：为什么必须保证分区容忍性（P）？**  
**A**：在互联网规模下，网络分区是**常态风险**（跨机房、跨地域、拥塞、重传），不可能完全消除。设计之初就要承认 P，随后在 C 与 A 中选；否则，一旦分区，系统将“既不一致也不可用”。

**Q3：关系型数据库是 CA 还是 CP？**  
**A**：**单机**近似 CA（没有分区问题）；**分布式部署**通常倾向 **CP**（如多数派写、Leader 选举），在分区时**牺牲可用性**以确保一致性。

**Q4：怎么在 Spring 项目里体现 BASE？**  
**A**：典型做法：

*   **降级/限流**（Sentinel/Resilience4j）保障“基本可用”。
*   **异步化**（事件溯源、MQ/Kafka、异步任务）体现“软状态”。
*   **幂等/重试/补偿**（业务幂等键、Saga/TCC、死信队列）保证“最终一致”。



### 场景 A：电商下单与库存

*   **下单写主库** → 投递“扣库存事件”到 MQ → **库存服务异步扣减**。
*   若扣减失败：**重试** + **幂等键**（orderId）去重；必要时**人工补偿**。
*   **读侧缓存**可能短时不一致，但最终由事件流**回补**，保证收敛。

你当前维护的 **Spring** 项目可以这样表达：

*   我们在**高并发路径**中采用 **AP + BASE**：
    *   **异步事件（Kafka/RabbitMQ）** + **幂等键** + **重试与死信队列**，保证最终一致。
    *   **缓存更新**通过事件回补，读侧允许短时不一致。
*   在**强一致**模块引入 **CP** 策略：
    *   使用 **ZooKeeper/Raft** 做**选主/分布式锁**，分区时宁可拒绝写。
*   配套**可观测性**：埋点、告警、补偿工单，闭环保障一致性收敛。

================================ division ================================
问题： 断路器有哪些类型，区别是啥
来源： 面试突击班第二节.md  
断路器的隔离方式（线程池隔离以及信号量隔离）有什么区别 ...
概述： 
	线程池隔离 和 信号量隔离 
	场景： 请求打到微服务A ，A需要调用其他服务。
	线程池隔离 出现方式为： 处理请求的线程和 调用其他服务的线程是相互隔离的， 在不同线程池中。
	信号量隔离 实现方式为： 处理请求的线程和 调用其他服务的线程是同一个线程，在调用之前需要获取信号量，如果成功继续执行否则直接fallback或者超时等待，需要额外的处理逻辑。
AI总结： 
	参考： ./attachment/Spring生态断路器两种类型原理以及不同技术方案对比.md 
================================ division ================================
问题: 	配置中心几种配置推送方式以及nacos的推送方式
来源: 	
		2024金九银十面试突击班 
			面试突击班3.md
				配置中心几种配置推送方式以及nacos的推送方式
概述: 服务器主动推送给客户端,心跳机制保持长连接 
客户端主动拉取配置, 时效性
nacos实现方式:  客户端轮询 + 长连接 
参考: E:\IDEAProject\StudyNotesOnSpringCloud\attachment\Nacos作为配置中心-客户端如何感知配置修改.md 
	


================================ division ================================
问题: Nacos 脑裂的可能场景与案例
来源: 2025金三银四面试突击班NO.2763   架构面试突击班第二节.md  
概述: 
参考: attachment\Nacos的AP和CP模型以及脑裂问题.md

================================ division ================================
问题: 
来源: 
概述: 
参考:  什么是响应式编程.md

问题:  RabbitMQ消息模型+可靠性顺序性延迟消息实现
来源:  2025金三银四面试突击班NO.2763  --  面试场景题之MQ  --  面试场景题之MQ.md
概述:  
参考:  RabbitMQ消息模型+可靠性顺序性延迟消息实现.md

问题:  RocketMQ  消息模型,消息投递可靠性,延迟消息实现,顺序性保证
来源:  2025金三银四面试突击班NO.2763  --  面试场景题之MQ  --  面试场景题之MQ.md
概述:  
参考:  RocketMQ  消息模型,消息投递可靠性,延迟消息实现,顺序性保证.md





问题： 马士兵官网上关于微服务的面试题课程整理

面试题中重点问的问题，总结这个面试题内容，涉及哪些知识点
然后学习对应的技术，整理笔记，结合面试内容笔记，整理为自己的场景，遇到的问题，如何解决
然后将上面的内容用AI整理为自己面试话术 


将下面的课程排序， 微服务面试相关的问题。
先笔记然后视频，不然太慢了

下面是面试题相关的，根据面试题目找重点，然后针对性查漏补缺
===================
06 2025金九银十面试突击班 NO.2859
	中间件面试场景（上）
10 2024金九银十面试突击班NO.2707 done
	网络与IO面试-基础面试题
	微服务架构设计
	微服务各个组件面试点剖析
	微服务核心组件以及配件精讲
	架构设计方案课
	网络与IO面试-Netty与NIO面试题
	网络与IO面试-实战运用面试题
08 2025金三银四面试突击班NO.2763 cur
	分布式解决方案-高并发一致性 
12 2024金三银四面试突击班NO.2583
	项目面试
	消息队列面试题--基础实战
	消息队列面试题--高级实战
	消息队列面试题--原理与源码
	微服务整体架构
	五大核心组件以及三大配件面试点（一）
14 2023金九银十面试突击班NO.2417
	微服务面试1
	微服务面试2
	微服务面试3
	消息队列面试题1
	消息队列面试题2
	消息队列面试题3


15 2023金三银四面试突击班NO.2206
	微服务面试1
	微服务架构设计面试
	消息队列面试题3


25 2022金九银十面试突击班NO.1830
	Spring Cloud面试题
	云原生面试题
	mq面试题
	Spring Cloud面试题
	消息队列面试题
	
	
05 2025年Java企业级架构成长班NO.2903
	微服务架构及常见微服务技术栈
07 2025年Java企业级架构成长班NO.2809
	微服务架构及常见微服务技术栈

09 2024金九银十面突击课（字幕版）NO.2751
	章节8:微服务架构设计 (4节)
	章节9:微服务各个组件面试点剖析 (10节)
	章节10:微服务核心组件以及配件精讲 (5节)


===================================
218 Java面试宝典NO.2205
	章节4:消息中间件 (30节)
	章节5:分布式 (30节)
	章节10:SpringCloud/Alibaba (30节)

===================================
金九银十大厂面试题全解NO.870
	章节106: MySQL如何做分布式锁 (1节)
	章节111: 你设计微服务时遵循什么原则 (1节)
	章节112: CAP定理是什么 (1节)
	章节113: BASE理论是什么 (1节)
	章节114: 2PC提交协议是什么 (1节)
	章节115: 2PC提交协议有什么缺点 (1节)
	章节116: 3PC提交协议是什么 (1节)
	章节117: 2PC和3PC的区别是什么 (1节)
===================================
216 面试突击班-第一季NO.464
	章节18:分布式面试题 (3节)
	章节35:秒杀专题 (5节)
	章节36:抢红包专题 (2节)
	章节38:分布式面试题&大厂录音分享 (5节)
	章节42:微博互关&b站点赞设计 (11节)
	同源策略与跨域请求
	会话管理
	章节44:项目面试题 (12节)
	章节46:客票类系统设计 (14节)

===================================
亿级流量多级缓存分布式课程 
2022金三银四面试突击班
	微服务面试
	微服务面试
	消息队列面试题
	缓存面试题
	运维面试题
===================================
高并发负载均衡精讲
===================================
分布式ID
===================================
分布式锁精讲
===================================
分布式事务精讲
===================================
分布式解决方案与实战
	章节1:分布式多线程性能调优实战 (4节)
	章节2:分布式锁 (4节)
	章节3:分布式缓存 (5节)
	章节4:分布式ID (4节)
	章节5:分布式限流 (5节)
	章节6:分布式数据库 (1节)
	章节7:分布式分流 (4节)
	章节8:分布式消息 (5节)
	章节9:分布式事务 (2节)
	章节10:分布式文件 (1节)
	章节11:分布式搜索 (2节)
	章节12:电商经典场景——秒杀服务 (3节)
===================================
常见痛点规避与大厂Bug处理专题
===================================
29 架构案例设计NO.2322
===================================
线上故障分析之大厂Bug处理专题
===================================
深入理解TCP-面试20问


下面是可以学习的
===================================
P7_微服务架构
	Spring Cloud Alibaba深入实战
	Spring Cloud Netflix 实战和源码精讲
	微服务原理分析
	
11 2024年Java企业级架构成长班NO.2673
	微服务体系架构设计
	微服务组件架构详解--五大核心组件 三大配件
	nacos注册配置中心源码分析
	断路器原理源码分析
	分布式事务seata原理源码
	三大MQ与分布式解决方案


13 Java企业级架构师成长班NO.2525
	三高项目中应用服务的高并发设计
	三高项目中的缓存设计方案
	三高项目中应用保护设计方案
	三高项目中缓存风险和应用保护设计
	三高项目中的应用保护设计
	RocketMQ入门与运用实战
	RocketMQ高级运用实战
	RocketMQ源码分析--生产者启动和发送流程
	RocketMQ源码分析-Broker消息和存储流程
	RocketMQ源码分析-消费者流程

30 Dubbo3源码精讲NO.2323
	27 分布式定时任务调度解析NO.1761
	28 redis6.x源码NO.1233
	16 Zookeeper应用实战与源码剖析NO.2403
	19 kafka核心技术NO.2161
	21 关系型数据库-PostgreSQLNO.2109
	22 快速掌握云原生消息队列PulsarNO.1961
	23 SpringMVC源码NO.1964
	24 JVM调优之底层原理NO.1380
===================================
Java高精尖技术分享
	Java Agent 技术
===================================
RocketMQ4.8.0源码深入剖析
===================================
apollo配置中心
===================================
Dubbo从入门到源码
===================================
HTTPS原理详解新版
===================================
java架构师需要掌握的前端架构
===================================
P6_云原生 应用与架构设计




todo
	响应式编程入门到进阶书籍推荐.md
	之前的各种线程池源码拖出来鞭尸....
	canal 配合 MySQL 实现数据同步
	